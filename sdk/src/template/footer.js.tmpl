
	// Only set globals if there's no AMD
	if (!define || !define.amd) {
		var modules = [
			'F2',
			'F2.BaseAppClass',
			'F2.Constants',
			'F2.Events',
			'F2.Schemas',
			'F2.UI'
		];

		// Toss all the modules on the global
		require.call(window, modules, function() {
			var args = Array.prototype.slice.call(arguments);

			for (var i = 0, len = args.length; i < len; i++) {
				if (modules[i] === 'F2') {
					window.F2 = args[i];
				}
				else {
					var moduleName = modules[i].split('.')[1];
					window.F2[moduleName] = args[i];
				}
			}
		});
	}

	// Automatically parse the DOM for AppConfig placeholders
	(function() {
		var placeholders = Helpers.appPlaceholders.getInNode(document.body);

		if (placeholders && placeholders.length) {
		  require(['F2'], function(F2) {
				var appConfigs = _.map(placeholders, function(placeholder) {
					return placeholder.appConfig;
				});

				F2.load({
					appConfigs: appConfigs,
					success: function() {
						var args = Array.prototype.slice.call(arguments);

						for (var i = 0, len = args.length; i < len; i++) {
							placeholders[i].node.appendChild(args[i].root);
						}
					}
				});
			});
		}
	})();

})();