/*! F2 - v1.3.0 - 10-08-2013 - See below for copyright and license */
!function(){("undefined"==typeof console||"undefined"==typeof console.log)&&(console={assert:noop,clear:noop,count:noop,debug:noop,dir:noop,dirxml:noop,error:noop,exception:noop,group:noop,groupCollapsed:noop,groupEnd:noop,info:noop,log:noop,markTimeline:noop,profile:noop,profileEnd:noop,table:noop,time:noop,timeEnd:noop,timeStamp:noop,trace:noop,warn:noop});var exports={document:window.document};!function(a,b,c,d){function e(a){return function(){return eb.apply(a,arguments)}}function f(a){return a===Object(a)}function g(a){return"[object StopIteration]"===mb(a)||a instanceof ab}function h(a,b){if(Y&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(ob)){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var e=c.join("\n"+ob+"\n");a.stack=i(e)}}function i(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;++d){var e=b[d];l(e)||j(e)||!e||c.push(e)}return c.join("\n")}function j(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function k(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function l(a){var b=k(a);if(!b)return!1;var c=b[0],d=b[1];return c===_&&d>=bb&&tb>=d}function m(){if(Y)try{throw new Error}catch(a){var b=a.stack.split("\n"),c=b[0].indexOf("@")>0?b[1]:b[2],d=k(c);if(!d)return;return _=d[0],d[1]}}function n(a,b,c){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",new Error("").stack),a.apply(a,arguments)}}function o(a){return v(a)?a:w(a)?H(a):G(a)}function p(){function a(a){b=a,f.source=a,gb(c,function(b,c){db(function(){a.promiseDispatch.apply(a,c)})},void 0),c=void 0,d=void 0}var b,c=[],d=[],e=jb(p.prototype),f=jb(s.prototype);if(f.promiseDispatch=function(a,e,f){var g=fb(arguments);c?(c.push(g),"when"===e&&f[1]&&d.push(f[1])):db(function(){b.promiseDispatch.apply(b,g)})},f.valueOf=n(function(){if(c)return f;var a=u(b);return v(a)&&(b=a),a},"valueOf","inspect"),f.inspect=function(){return b?b.inspect():{state:"pending"}},o.longStackSupport&&Y)try{throw new Error}catch(g){f.stack=g.stack.substring(g.stack.indexOf("\n")+1)}return e.promise=f,e.resolve=function(c){b||a(o(c))},e.fulfill=function(c){b||a(G(c))},e.reject=function(c){b||a(F(c))},e.notify=function(a){b||gb(d,function(b,c){db(function(){c(a)})},void 0)},e}function q(a){if("function"!=typeof a)throw new TypeError("resolver must be a function.");var b=p();try{a(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}return b.promise}function r(a){return q(function(b,c){for(var d=0,e=a.length;e>d;d++)o(a[d]).then(b,c)})}function s(a,b,c){void 0===b&&(b=function(a){return F(new Error("Promise does not support operation: "+a))}),void 0===c&&(c=function(){return{state:"unknown"}});var d=jb(s.prototype);if(d.promiseDispatch=function(c,e,f){var g;try{g=a[e]?a[e].apply(d,f):b.call(d,e,f)}catch(h){g=F(h)}c&&c(g)},d.inspect=c,c){var e=c();"rejected"===e.state&&(d.exception=e.reason),d.valueOf=n(function(){var a=c();return"pending"===a.state||"rejected"===a.state?d:a.value})}return d}function t(a,b,c,d){return o(a).then(b,c,d)}function u(a){if(v(a)){var b=a.inspect();if("fulfilled"===b.state)return b.value}return a}function v(a){return f(a)&&"function"==typeof a.promiseDispatch&&"function"==typeof a.inspect}function w(a){return f(a)&&"function"==typeof a.then}function x(a){return v(a)&&"pending"===a.inspect().state}function y(a){return!v(a)||"fulfilled"===a.inspect().state}function z(a){return v(a)&&"rejected"===a.inspect().state}function A(){rb||"undefined"==typeof b||b.Touch||!b.console||console.warn("[Q] Unhandled rejection reasons (should be empty):",pb),rb=!0}function B(){for(var a=0;a<pb.length;a++){var b=pb[a];console.warn("Unhandled rejection reason:",b)}}function C(){pb.length=0,qb.length=0,rb=!1,sb||(sb=!0,"undefined"!=typeof process&&process.on&&process.on("exit",B))}function D(a,b){sb&&(qb.push(a),b&&"undefined"!=typeof b.stack?pb.push(b.stack):pb.push("(no stack) "+b),A())}function E(a){if(sb){var b=hb(qb,a);-1!==b&&(qb.splice(b,1),pb.splice(b,1))}}function F(a){var b=s({when:function(b){return b&&E(this),b?b(a):this}},function(){return this},function(){return{state:"rejected",reason:a}});return D(b,a),b}function G(a){return s({when:function(){return a},get:function(b){return a[b]},set:function(b,c){a[b]=c},"delete":function(b){delete a[b]},post:function(b,c){return null===b||void 0===b?a.apply(void 0,c):a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},keys:function(){return lb(a)}},void 0,function(){return{state:"fulfilled",value:a}})}function H(a){var b=p();return db(function(){try{a.then(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}}),b.promise}function I(a){return s({isDef:function(){}},function(b,c){return O(a,b,c)},function(){return o(a).inspect()})}function J(a,b,c){return o(a).spread(b,c)}function K(a){return function(){function b(a,b){var f;if(nb){try{f=c[a](b)}catch(h){return F(h)}return f.done?f.value:t(f.value,d,e)}try{f=c[a](b)}catch(h){return g(h)?h.value:F(h)}return t(f,d,e)}var c=a.apply(this,arguments),d=b.bind(b,"next"),e=b.bind(b,"throw");return d()}}function L(a){o.done(o.async(a)())}function M(a){throw new ab(a)}function N(a){return function(){return J([this,P(arguments)],function(b,c){return a.apply(b,c)})}}function O(a,b,c){return o(a).dispatch(b,c)}function P(a){return t(a,function(a){var b=0,c=p();return gb(a,function(d,e,f){var g;v(e)&&"fulfilled"===(g=e.inspect()).state?a[f]=g.value:(++b,t(e,function(d){a[f]=d,0===--b&&c.resolve(a)},c.reject,function(a){c.notify({index:f,value:a})}))},void 0),0===b&&c.resolve(a),c.promise})}function Q(a){return t(a,function(a){return a=ib(a,o),t(P(ib(a,function(a){return t(a,cb,cb)})),function(){return a})})}function R(a){return o(a).allSettled()}function S(a,b){return o(a).then(void 0,void 0,b)}function T(a,b){return o(a).nodeify(b)}var U=function(){function a(a){return null==a?String(a):X[Y.call(a)]||"object"}function c(b){return"function"==a(b)}function d(a){return null!=a&&a==a.window}function e(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function f(b){return"object"==a(b)}function g(a){return f(a)&&!d(a)&&Object.getPrototypeOf(a)==Object.prototype}function h(a){return a instanceof Array}function i(a){return"number"==typeof a.length}function j(a){return F.call(a,function(a){return null!=a})}function k(a){return a.length>0?z.fn.concat.apply([],a):a}function l(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function m(a){return a in I?I[a]:I[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function n(a,b){return"number"!=typeof b||J[l(a)]?b:b+"px"}function o(a){var b,c;return H[a]||(b=G.createElement(a),G.body.appendChild(b),c=getComputedStyle(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==c&&(c="block"),H[a]=c),H[a]}function p(a){return"children"in a?E.call(a.children):z.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function q(a,b,c){for(y in b)c&&(g(b[y])||h(b[y]))?(g(b[y])&&!g(a[y])&&(a[y]={}),h(b[y])&&!h(a[y])&&(a[y]=[]),q(a[y],b[y],c)):b[y]!==x&&(a[y]=b[y])}function r(a,b){return null==b?z(a):z(a).filter(b)}function s(a,b,d,e){return c(b)?b.call(a,d,e):b}function t(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)}function u(a,b){var c=a.className,d=c&&c.baseVal!==x;return b===x?d?c.baseVal:c:(d?c.baseVal=b:a.className=b,void 0)}function v(a){var b;try{return a?"true"==a||("false"==a?!1:"null"==a?null:isNaN(b=Number(a))?/^[\[\{]/.test(a)?z.parseJSON(a):a:b):a}catch(c){return a}}function w(a,b){b(a);for(var c in a.childNodes)w(a.childNodes[c],b)}var x,y,z,A,B,C,D=[],E=D.slice,F=D.filter,G=b.document,H={},I={},J={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},K=/^\s*<(\w+|!)[^>]*>/,L=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,M=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,N=/^(?:body|html)$/i,O=["val","css","html","text","data","width","height","offset"],P=["after","prepend","before","append"],Q=G.createElement("table"),R=G.createElement("tr"),S={tr:G.createElement("tbody"),tbody:Q,thead:Q,tfoot:Q,td:R,th:R,"*":G.createElement("div")},T=/complete|loaded|interactive/,U=/^\.([\w-]+)$/,V=/^#([\w-]*)$/,W=/^[\w-]+$/,X={},Y=X.toString,Z={},$=G.createElement("div");return Z.matches=function(a,b){if(!a||1!==a.nodeType)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=$).appendChild(a),d=~Z.qsa(e,b).indexOf(a),f&&$.removeChild(a),d},B=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},C=function(a){return F.call(a,function(b,c){return a.indexOf(b)==c})},Z.fragment=function(a,b,c){var d,e,f;return L.test(a)&&(d=z(G.createElement(RegExp.$1))),d||(a.replace&&(a=a.replace(M,"<$1></$2>")),b===x&&(b=K.test(a)&&RegExp.$1),b in S||(b="*"),f=S[b],f.innerHTML=""+a,d=z.each(E.call(f.childNodes),function(){f.removeChild(this)})),g(c)&&(e=z(d),z.each(c,function(a,b){O.indexOf(a)>-1?e[a](b):e.attr(a,b)})),d},Z.Z=function(a,b){return a=a||[],a.__proto__=z.fn,a.selector=b||"",a},Z.isZ=function(a){return a instanceof Z.Z},Z.init=function(a,b){if(a){if(c(a))return z(G).ready(a);if(Z.isZ(a))return a;var d;if(h(a))d=j(a);else if(f(a))d=[a],a=null;else if(K.test(a))d=Z.fragment(a.trim(),RegExp.$1,b),a=null;else{if(b!==x)return z(b).find(a);d=Z.qsa(G,a)}return Z.Z(d,a)}return Z.Z()},z=function(a,b){return Z.init(a,b)},z.extend=function(a){var b,c=E.call(arguments,1);return"boolean"==typeof a&&(b=a,a=c.shift()),c.forEach(function(c){q(a,c,b)}),a},Z.qsa=function(a,b){var c;return e(a)&&V.test(b)?(c=a.getElementById(RegExp.$1))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:E.call(U.test(b)?a.getElementsByClassName(RegExp.$1):W.test(b)?a.getElementsByTagName(b):a.querySelectorAll(b))},z.contains=function(a,b){return a!==b&&a.contains(b)},z.type=a,z.isFunction=c,z.isWindow=d,z.isArray=h,z.isPlainObject=g,z.isEmptyObject=function(a){var b;for(b in a)return!1;return!0},z.inArray=function(a,b,c){return D.indexOf.call(b,a,c)},z.camelCase=B,z.trim=function(a){return null==a?"":String.prototype.trim.call(a)},z.uuid=0,z.support={},z.expr={},z.map=function(a,b){var c,d,e,f=[];if(i(a))for(d=0;d<a.length;d++)c=b(a[d],d),null!=c&&f.push(c);else for(e in a)c=b(a[e],e),null!=c&&f.push(c);return k(f)},z.each=function(a,b){var c,d;if(i(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a;return a},z.grep=function(a,b){return F.call(a,b)},b.JSON&&(z.parseJSON=JSON.parse),z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){X["[object "+b+"]"]=b.toLowerCase()}),z.fn={forEach:D.forEach,reduce:D.reduce,push:D.push,sort:D.sort,indexOf:D.indexOf,concat:D.concat,map:function(a){return z(z.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return z(E.apply(this,arguments))},ready:function(a){return T.test(G.readyState)?a(z):G.addEventListener("DOMContentLoaded",function(){a(z)},!1),this},get:function(a){return a===x?E.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return D.every.call(this,function(b,c){return a.call(b,c,b)!==!1}),this},filter:function(a){return c(a)?this.not(this.not(a)):z(F.call(this,function(b){return Z.matches(b,a)}))},add:function(a,b){return z(C(this.concat(z(a,b))))},is:function(a){return this.length>0&&Z.matches(this[0],a)},not:function(a){var b=[];if(c(a)&&a.call!==x)this.each(function(c){a.call(this,c)||b.push(this)});else{var d="string"==typeof a?this.filter(a):i(a)&&c(a.item)?E.call(a):z(a);this.forEach(function(a){d.indexOf(a)<0&&b.push(a)})}return z(b)},has:function(a){return this.filter(function(){return f(a)?z.contains(this,a):z(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!f(a)?a:z(a)},last:function(){var a=this[this.length-1];return a&&!f(a)?a:z(a)},find:function(a){var b,c=this;return b="object"==typeof a?z(a).filter(function(){var a=this;return D.some.call(c,function(b){return z.contains(b,a)})}):1==this.length?z(Z.qsa(this[0],a)):this.map(function(){return Z.qsa(this,a)})},closest:function(a,b){var c=this[0],d=!1;for("object"==typeof a&&(d=z(a));c&&!(d?d.indexOf(c)>=0:Z.matches(c,a));)c=c!==b&&!e(c)&&c.parentNode;return z(c)},parents:function(a){for(var b=[],c=this;c.length>0;)c=z.map(c,function(a){return(a=a.parentNode)&&!e(a)&&b.indexOf(a)<0?(b.push(a),a):void 0});return r(b,a)},parent:function(a){return r(C(this.pluck("parentNode")),a)},children:function(a){return r(this.map(function(){return p(this)}),a)},contents:function(){return this.map(function(){return E.call(this.childNodes)})},siblings:function(a){return r(this.map(function(a,b){return F.call(p(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return z.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=o(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var b=c(a);if(this[0]&&!b)var d=z(a).get(0),e=d.parentNode||this.length>1;return this.each(function(c){z(this).wrapAll(b?a.call(this,c):e?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){z(this[0]).before(a=z(a));for(var b;(b=a.children()).length;)a=b.first();z(a).append(this)}return this},wrapInner:function(a){var b=c(a);return this.each(function(c){var d=z(this),e=d.contents(),f=b?a.call(this,c):a;e.length?e.wrapAll(f):d.append(f)})},unwrap:function(){return this.parent().each(function(){z(this).replaceWith(z(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=z(this);(a===x?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return z(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return z(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(b){var c=this.innerHTML;z(this).empty().append(s(this,a,b,c))})},text:function(a){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=a===x?"":""+a})},attr:function(a,b){var c;return"string"==typeof a&&b===x?0==this.length||1!==this[0].nodeType?x:"value"==a&&"INPUT"==this[0].nodeName?this.val():!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:this.each(function(c){if(1===this.nodeType)if(f(a))for(y in a)t(this,y,a[y]);else t(this,a,s(this,b,c,this.getAttribute(a)))})},removeAttr:function(a){return this.each(function(){1===this.nodeType&&t(this,a)})},prop:function(a,b){return b===x?this[0]&&this[0][a]:this.each(function(c){this[a]=s(this,b,c,this[a])})},data:function(a,b){var c=this.attr("data-"+l(a),b);return null!==c?v(c):x},val:function(a){return 0===arguments.length?this[0]&&(this[0].multiple?z(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(b){this.value=s(this,a,b,this.value)})},offset:function(a){if(a)return this.each(function(b){var c=z(this),d=s(this,a,b,c.offset()),e=c.offsetParent().offset(),f={top:d.top-e.top,left:d.left-e.left};"static"==c.css("position")&&(f.position="relative"),c.css(f)});if(0==this.length)return null;var c=this[0].getBoundingClientRect();return{left:c.left+b.pageXOffset,top:c.top+b.pageYOffset,width:Math.round(c.width),height:Math.round(c.height)}},css:function(b,c){if(arguments.length<2){var d=this[0],e=getComputedStyle(d,"");if(!d)return;if("string"==typeof b)return d.style[B(b)]||e.getPropertyValue(b);if(h(b)){var f={};return z.each(h(b)?b:[b],function(a,b){f[b]=d.style[B(b)]||e.getPropertyValue(b)}),f}}var g="";if("string"==a(b))c||0===c?g=l(b)+":"+n(b,c):this.each(function(){this.style.removeProperty(l(b))});else for(y in b)b[y]||0===b[y]?g+=l(y)+":"+n(y,b[y])+";":this.each(function(){this.style.removeProperty(l(y))});return this.each(function(){this.style.cssText+=";"+g})},index:function(a){return a?this.indexOf(z(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return D.some.call(this,function(a){return this.test(u(a))},m(a))},addClass:function(a){return this.each(function(b){A=[];var c=u(this),d=s(this,a,b,c);d.split(/\s+/g).forEach(function(a){z(this).hasClass(a)||A.push(a)},this),A.length&&u(this,c+(c?" ":"")+A.join(" "))})},removeClass:function(a){return this.each(function(b){return a===x?u(this,""):(A=u(this),s(this,a,b,A).split(/\s+/g).forEach(function(a){A=A.replace(m(a)," ")}),u(this,A.trim()),void 0)})},toggleClass:function(a,b){return this.each(function(c){var d=z(this),e=s(this,a,c,u(this));e.split(/\s+/g).forEach(function(a){(b===x?!d.hasClass(a):b)?d.addClass(a):d.removeClass(a)})})},scrollTop:function(a){if(this.length){var b="scrollTop"in this[0];return a===x?b?this[0].scrollTop:this[0].pageYOffset:this.each(b?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,a)})}},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),d=N.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(z(a).css("margin-top"))||0,c.left-=parseFloat(z(a).css("margin-left"))||0,d.top+=parseFloat(z(b[0]).css("border-top-width"))||0,d.left+=parseFloat(z(b[0]).css("border-left-width"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||G.body;a&&!N.test(a.nodeName)&&"static"==z(a).css("position");)a=a.offsetParent;return a})}},z.fn.detach=z.fn.remove,["width","height"].forEach(function(a){var b=a.replace(/./,function(a){return a[0].toUpperCase()});z.fn[a]=function(c){var f,g=this[0];return c===x?d(g)?g["inner"+b]:e(g)?g.documentElement["scroll"+b]:(f=this.offset())&&f[a]:this.each(function(b){g=z(this),g.css(a,s(this,c,b,g[a]()))})}}),P.forEach(function(c,d){var e=d%2;z.fn[c]=function(){var c,f,g=z.map(arguments,function(b){return c=a(b),"object"==c||"array"==c||null==b?b:Z.fragment(b)}),h=this.length>1;return g.length<1?this:this.each(function(a,c){f=e?c:c.parentNode,c=0==d?c.nextSibling:1==d?c.firstChild:2==d?c:null,g.forEach(function(a){if(h)a=a.cloneNode(!0);else if(!f)return z(a).remove();w(f.insertBefore(a,c),function(a){null==a.nodeName||"SCRIPT"!==a.nodeName.toUpperCase()||a.type&&"text/javascript"!==a.type||a.src||b.eval.call(b,a.innerHTML)})})})},z.fn[e?c+"To":"insert"+(d?"Before":"After")]=function(a){return z(a)[c](this),this}}),Z.Z.prototype=z.fn,Z.uniq=C,Z.deserializeValue=v,z.zepto=Z,z}();b.Zepto=U,void 0===b.$&&(b.$=U),$=U=a.Zepto,function(a){function c(b,c,d){var e=a.Event(c);return a(b).trigger(e,d),!e.defaultPrevented}function d(a,b,d,e){return a.global?c(b||t,d,e):void 0}function e(b){b.global&&0===a.active++&&d(b,null,"ajaxStart")}function f(b){b.global&&!--a.active&&d(b,null,"ajaxStop")}function g(a,b){var c=b.context;return b.beforeSend.call(c,a,b)===!1||d(b,c,"ajaxBeforeSend",[a,b])===!1?!1:(d(b,c,"ajaxSend",[a,b]),void 0)}function h(a,b,c){var e=c.context,f="success";c.success.call(e,a,f,b),d(c,e,"ajaxSuccess",[b,c,a]),j(f,b,c)}function i(a,b,c,e){var f=e.context;e.error.call(f,c,b,a),d(e,f,"ajaxError",[c,e,a||b]),j(b,c,e)}function j(a,b,c){var e=c.context;c.complete.call(e,b,a),d(c,e,"ajaxComplete",[b,c]),f(c)}function k(){}function l(a){return a&&(a=a.split(";",2)[0]),a&&(a==y?"html":a==x?"json":v.test(a)?"script":w.test(a)&&"xml")||"text"}function m(a,b){return""==b?a:(a+"&"+b).replace(/[&?]{1,2}/,"?")}function n(b){b.processData&&b.data&&"string"!=a.type(b.data)&&(b.data=a.param(b.data,b.traditional)),!b.data||b.type&&"GET"!=b.type.toUpperCase()||(b.url=m(b.url,b.data))}function o(b,c,d,e){var f=!a.isFunction(c);return{url:b,data:f?c:void 0,success:f?a.isFunction(d)?d:void 0:c,dataType:f?e||d:d}}function p(b,c,d,e){var f,g=a.isArray(c);a.each(c,function(c,h){f=a.type(h),e&&(c=d?e:e+"["+(g?"":c)+"]"),!e&&g?b.add(h.name,h.value):"array"==f||!d&&"object"==f?p(b,h,d,c):b.add(c,h)})}var q,r,s=0,t=b.document,u=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,v=/^(?:text|application)\/javascript/i,w=/^(?:text|application)\/xml/i,x="application/json",y="text/html",z=/^\s*$/;a.active=0,a.ajaxJSONP=function(c){if(!("type"in c))return a.ajax(c);var d,e=c.jsonpCallback,f=(a.isFunction(e)?e():e)||"jsonp"+ ++s,j=t.createElement("script"),l=function(){clearTimeout(d),a(j).remove(),delete b[f]},m=function(a){l(),a&&"timeout"!=a||(b[f]=k),i(null,a||"abort",n,c)},n={abort:m};return g(n,c)===!1?(m("abort"),!1):(b[f]=function(a){l(),h(a,n,c)},j.onerror=function(){m("error")},j.src=c.url.replace(/=\?/,"="+f),a("head").append(j),c.timeout>0&&(d=setTimeout(function(){m("timeout")},c.timeout)),n)},a.ajaxSettings={type:"GET",beforeSend:k,success:k,error:k,complete:k,context:null,global:!0,xhr:function(){return new b.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:x,xml:"application/xml, text/xml",html:y,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},a.ajax=function(c){var d=a.extend({},c||{});for(q in a.ajaxSettings)void 0===d[q]&&(d[q]=a.ajaxSettings[q]);e(d),d.crossDomain||(d.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(d.url)&&RegExp.$2!=b.location.host),d.url||(d.url=b.location.toString()),n(d),d.cache===!1&&(d.url=m(d.url,"_="+Date.now()));var f=d.dataType,j=/=\?/.test(d.url);if("jsonp"==f||j)return j||(d.url=m(d.url,d.jsonp?d.jsonp+"=?":d.jsonp===!1?"":"callback=?")),a.ajaxJSONP(d);var o,p=d.accepts[f],s={},t=/^([\w-]+:)\/\//.test(d.url)?RegExp.$1:b.location.protocol,u=d.xhr();d.crossDomain||(s["X-Requested-With"]="XMLHttpRequest"),p&&(s.Accept=p,p.indexOf(",")>-1&&(p=p.split(",",2)[0]),u.overrideMimeType&&u.overrideMimeType(p)),(d.contentType||d.contentType!==!1&&d.data&&"GET"!=d.type.toUpperCase())&&(s["Content-Type"]=d.contentType||"application/x-www-form-urlencoded"),d.headers=a.extend(s,d.headers||{}),u.onreadystatechange=function(){if(4==u.readyState){u.onreadystatechange=k,clearTimeout(o);var b,c=!1;if(u.status>=200&&u.status<300||304==u.status||0==u.status&&"file:"==t){f=f||l(u.getResponseHeader("content-type")),b=u.responseText;try{"script"==f?(1,eval)(b):"xml"==f?b=u.responseXML:"json"==f&&(b=z.test(b)?null:a.parseJSON(b))}catch(e){c=e}c?i(c,"parsererror",u,d):h(b,u,d)}else i(u.statusText||null,u.status?"error":"abort",u,d)}};var v="async"in d?d.async:!0;u.open(d.type,d.url,v);for(r in d.headers)u.setRequestHeader(r,d.headers[r]);return g(u,d)===!1?(u.abort(),!1):(d.timeout>0&&(o=setTimeout(function(){u.onreadystatechange=k,u.abort(),i(null,"timeout",u,d)},d.timeout)),u.send(d.data?d.data:null),u)},a.get=function(){return a.ajax(o.apply(null,arguments))},a.post=function(){var b=o.apply(null,arguments);return b.type="POST",a.ajax(b)},a.getJSON=function(){var b=o.apply(null,arguments);return b.dataType="json",a.ajax(b)},a.fn.load=function(b,c,d){if(!this.length)return this;var e,f=this,g=b.split(/\s/),h=o(b,c,d),i=h.success;return g.length>1&&(h.url=g[0],e=g[1]),h.success=function(b){f.html(e?a("<div>").html(b.replace(u,"")).find(e):b),i&&i.apply(f,arguments)},a.ajax(h),this};var A=encodeURIComponent;a.param=function(a,b){var c=[];return c.add=function(a,b){this.push(A(a)+"="+A(b))},p(c,a,b),c.join("&").replace(/%20/g,"+")}}(U);var V,W,X;!function(a){function b(a,b){return r.call(a,b)}function c(a,b){var c,d,e,f,g,h,i,j,k,l,m=b&&b.split("/"),n=p.map,o=n&&n["*"]||{};if(a&&"."===a.charAt(0))if(b){for(m=m.slice(0,m.length-1),a=m.concat(a.split("/")),j=0;j<a.length;j+=1)if(l=a[j],"."===l)a.splice(j,1),j-=1;else if(".."===l){if(1===j&&(".."===a[2]||".."===a[0]))break;j>0&&(a.splice(j-1,2),j-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((m||o)&&n){for(c=a.split("/"),j=c.length;j>0;j-=1){if(d=c.slice(0,j).join("/"),m)for(k=m.length;k>0;k-=1)if(e=n[m.slice(0,k).join("/")],e&&(e=e[d])){f=e,g=j;break}if(f)break;!h&&o&&o[d]&&(h=o[d],i=j)}!f&&h&&(f=h,g=i),f&&(c.splice(0,g,f),a=c.join("/"))}return a}function d(b,c){return function(){return k.apply(a,s.call(arguments,0).concat([b,c]))}}function e(a){return function(b){return c(b,a)}}function f(a){return function(b){n[a]=b}}function g(c){if(b(o,c)){var d=o[c];delete o[c],q[c]=!0,j.apply(a,d)}if(!b(n,c)&&!b(q,c))throw new Error("No "+c);return n[c]}function h(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function i(a){return function(){return p&&p.config&&p.config[a]||{}}}var j,k,l,m,n={},o={},p={},q={},r=Object.prototype.hasOwnProperty,s=[].slice;l=function(a,b){var d,f=h(a),i=f[0];return a=f[1],i&&(i=c(i,b),d=g(i)),i?a=d&&d.normalize?d.normalize(a,e(b)):c(a,b):(a=c(a,b),f=h(a),i=f[0],a=f[1],i&&(d=g(i))),{f:i?i+"!"+a:a,n:a,pr:i,p:d}},m={require:function(a){return d(a)},exports:function(a){var b=n[a];return"undefined"!=typeof b?b:n[a]={}},module:function(a){return{id:a,uri:"",exports:n[a],config:i(a)}}},j=function(c,e,h,i){var j,k,p,r,s,t,u=[];if(i=i||c,"function"==typeof h){for(e=!e.length&&h.length?["require","exports","module"]:e,s=0;s<e.length;s+=1)if(r=l(e[s],i),k=r.f,"require"===k)u[s]=m.require(c);else if("exports"===k)u[s]=m.exports(c),t=!0;else if("module"===k)j=u[s]=m.module(c);else if(b(n,k)||b(o,k)||b(q,k))u[s]=g(k);else{if(!r.p)throw new Error(c+" missing "+k);r.p.load(r.n,d(i,!0),f(k),{}),u[s]=n[k]}p=h.apply(n[c],u),c&&(j&&j.exports!==a&&j.exports!==n[c]?n[c]=j.exports:p===a&&t||(n[c]=p))}else c&&(n[c]=h)},V=W=k=function(b,c,d,e,f){return"string"==typeof b?m[b]?m[b](c):g(l(b,c).f):(b.splice||(p=b,c.splice?(b=c,c=d,d=null):b=a),c=c||function(){},"function"==typeof d&&(d=e,e=f),e?j(a,b,c,d):setTimeout(function(){j(a,b,c,d)},4),k)},k.config=function(a){return p=a,p.deps&&k(p.deps,p.callback),k},V._defined=n,X=function(a,c,d){c.splice||(d=c,c=[]),b(n,a)||b(o,a)||(o[a]=[a,c,d])},X.amd={jQuery:!0}}(),c.define||(c.define=X,c.require=W,c.requirejs=V),function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w={}.toString,x="function"==typeof X&&X.amd,y="object"==typeof a&&a,z='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',A=new Date(-0xc782b5b800cec);try{A=-109252==A.getUTCFullYear()&&0===A.getUTCMonth()&&1==A.getUTCDate()&&10==A.getUTCHours()&&37==A.getUTCMinutes()&&6==A.getUTCSeconds()&&708==A.getUTCMilliseconds()}catch(B){}if(A||(t=Math.floor,u=[0,31,59,90,120,151,181,212,243,273,304,334],v=function(a,b){return u[b]+365*(a-1970)+t((a-1969+(b=+(b>1)))/4)-t((a-1901+b)/100)+t((a-1601+b)/400)}),x||y?(x&&X("json",y={}),"object"==typeof JSON&&JSON&&(y.stringify=JSON.stringify,y.parse=JSON.parse)):y=this.JSON||(this.JSON={}),e="function"==typeof y.stringify&&!v){(A=function(){return 1}).toJSON=A;try{e="0"===y.stringify(0)&&"0"===y.stringify(new Number)&&'""'==y.stringify(new String)&&y.stringify(w)===d&&y.stringify(d)===d&&y.stringify()===d&&"1"===y.stringify(A)&&"[1]"==y.stringify([A])&&"[null]"==y.stringify([d])&&"null"==y.stringify(null)&&"[null,null,null]"==y.stringify([d,w,null])&&y.stringify({result:[A,!0,!1,null,"\x00\b\n\f\r	"]})==z&&"1"===y.stringify(null,A)&&"[\n 1,\n 2\n]"==y.stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==y.stringify(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==y.stringify(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==y.stringify(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==y.stringify(new Date(-1))}catch(B){e=!1}}if("function"==typeof y.parse)try{if(0===y.parse("0")&&!y.parse(!1)&&(A=y.parse(z),j=5==A.A.length&&1==A.A[0])){try{j=!y.parse('"	"')}catch(B){}if(j)try{j=1!=y.parse("01")}catch(B){}}}catch(B){j=!1}A=z=null,e&&j||((b={}.hasOwnProperty)||(b=function(a){var c,d={};return(d.__proto__=null,d.__proto__={toString:1},d).toString!=w?b=function(a){var b=this.__proto__,c=(this.__proto__=null,a in this);return this.__proto__=b,c}:(c=d.constructor,b=function(a){var b=(this.constructor||c).prototype;return a in this&&!(a in b&&this[a]===b[a])}),d=null,b.call(this,a)}),c=function(a,c){var d,e,f,g,h=0;(d=function(){this.valueOf=0}).prototype.valueOf=0,e=new d;for(f in e)b.call(e,f)&&h++;return d=e=null,h?g=2==h?function(a,c){var d,e={},f="[object Function]"==w.call(a);for(d in a)f&&"prototype"==d||b.call(e,d)||!(e[d]=1)||!b.call(a,d)||c(d)}:function(a,c){var d,e,f="[object Function]"==w.call(a);for(d in a)f&&"prototype"==d||!b.call(a,d)||(e="constructor"===d)||c(d);(e||b.call(a,d="constructor"))&&c(d)}:(e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(a,c){var d,f,g="[object Function]"==w.call(a);for(d in a)g&&"prototype"==d||!b.call(a,d)||c(d);for(f=e.length;d=e[--f];b.call(a,d)&&c(d));}),g(a,c)},e||(f={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},g=function(a,b){return("000000"+(b||0)).slice(-a)},h=function(a){for(var b,c='"',d=0;b=a.charAt(d);d++)c+='\\"\b\f\n\r	'.indexOf(b)>-1?f[b]:" ">b?"\\u00"+g(2,b.charCodeAt(0).toString(16)):b;return c+'"'},i=function(a,e,f,j,k,l,m){var n,o,p,q,r,s,u,x,y,z,A,B,C,D,E,F=e[a];if("object"==typeof F&&F)if(n=w.call(F),"[object Date]"!=n||b.call(F,"toJSON"))"function"==typeof F.toJSON&&("[object Number]"!=n&&"[object String]"!=n&&"[object Array]"!=n||b.call(F,"toJSON"))&&(F=F.toJSON(a));else if(F>-1/0&&1/0>F){if(v){for(q=t(F/864e5),o=t(q/365.2425)+1970-1;v(o+1,0)<=q;o++);for(p=t((q-v(o,0))/30.42);v(o,p+1)<=q;p++);q=1+q-v(o,p),r=(F%864e5+864e5)%864e5,s=t(r/36e5)%24,u=t(r/6e4)%60,x=t(r/1e3)%60,y=r%1e3}else o=F.getUTCFullYear(),p=F.getUTCMonth(),q=F.getUTCDate(),s=F.getUTCHours(),u=F.getUTCMinutes(),x=F.getUTCSeconds(),y=F.getUTCMilliseconds();F=(0>=o||o>=1e4?(0>o?"-":"+")+g(6,0>o?-o:o):g(4,o))+"-"+g(2,p+1)+"-"+g(2,q)+"T"+g(2,s)+":"+g(2,u)+":"+g(2,x)+"."+g(3,y)+"Z"}else F=null;if(f&&(F=f.call(e,a,F)),null===F)return"null";if(n=w.call(F),"[object Boolean]"==n)return""+F;if("[object Number]"==n)return F>-1/0&&1/0>F?""+F:"null";if("[object String]"==n)return h(F);if("object"==typeof F){for(C=m.length;C--;)if(m[C]===F)throw TypeError();if(m.push(F),z=[],D=l,l+=k,"[object Array]"==n){for(B=0,C=F.length;C>B;E||(E=!0),B++)A=i(B,F,f,j,k,l,m),z.push(A===d?"null":A);return E?k?"[\n"+l+z.join(",\n"+l)+"\n"+D+"]":"["+z.join(",")+"]":"[]"}return c(j||F,function(a){var b=i(a,F,f,j,k,l,m);b!==d&&z.push(h(a)+":"+(k?" ":"")+b),E||(E=!0)}),E?k?"{\n"+l+z.join(",\n"+l)+"\n"+D+"}":"{"+z.join(",")+"}":"{}"}},y.stringify=function(a,b,c){var d,e,f,g,h,j;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==w.call(b))e=b;else if("[object Array]"==w.call(b))for(f={},g=0,h=b.length;h>g;j=b[g++],("[object String]"==w.call(j)||"[object Number]"==w.call(j))&&(f[j]=1));if(c)if("[object Number]"==w.call(c)){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else"[object String]"==w.call(c)&&(d=c.length<=10?c:c.slice(0,10));return i("",(j={},j[""]=a,j),e,f,d,"",[])}),j||(k=String.fromCharCode,l={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"	",n:"\n",f:"\f",r:"\r"},m=function(){throw r=s=null,SyntaxError()},n=function(){for(var a,b,c,d,e,f=s,g=f.length;g>r;)if(a=f.charAt(r),"	\r\n ".indexOf(a)>-1)r++;else{if("{}[]:,".indexOf(a)>-1)return r++,a;if('"'==a){for(b="@",r++;g>r;)if(a=f.charAt(r)," ">a)m();else if("\\"==a)if(a=f.charAt(++r),'\\"/btnfr'.indexOf(a)>-1)b+=l[a],r++;else if("u"==a){for(c=++r,d=r+4;d>r;r++)a=f.charAt(r),a>="0"&&"9">=a||a>="a"&&"f">=a||a>="A"&&"F">=a||m();b+=k("0x"+f.slice(c,r))}else m();else{if('"'==a)break;b+=a,r++}if('"'==f.charAt(r))return r++,b;m()}else{if(c=r,"-"==a&&(e=!0,a=f.charAt(++r)),a>="0"&&"9">=a){for("0"==a&&(a=f.charAt(r+1),a>="0"&&"9">=a)&&m(),e=!1;g>r&&(a=f.charAt(r),a>="0"&&"9">=a);r++);if("."==f.charAt(r)){for(d=++r;g>d&&(a=f.charAt(d),a>="0"&&"9">=a);d++);d==r&&m(),r=d
}if(a=f.charAt(r),"e"==a||"E"==a){for(a=f.charAt(++r),("+"==a||"-"==a)&&r++,d=r;g>d&&(a=f.charAt(d),a>="0"&&"9">=a);d++);d==r&&m(),r=d}return+f.slice(c,r)}if(e&&m(),"true"==f.slice(r,r+4))return r+=4,!0;if("false"==f.slice(r,r+5))return r+=5,!1;if("null"==f.slice(r,r+4))return r+=4,null;m()}}return"$"},o=function(a){var b,c;if("$"==a&&m(),"string"==typeof a){if("@"==a.charAt(0))return a.slice(1);if("["==a){for(b=[];a=n(),"]"!=a;c||(c=!0))c&&(","==a?(a=n(),"]"==a&&m()):m()),","==a&&m(),b.push(o(a));return b}if("{"==a){for(b={};a=n(),"}"!=a;c||(c=!0))c&&(","==a?(a=n(),"}"==a&&m()):m()),(","==a||"string"!=typeof a||"@"!=a.charAt(0)||":"!=n())&&m(),b[a.slice(1)]=o(n());return b}m()}return a},q=function(a,b,c){var e=p(a,b,c);e===d?delete a[b]:a[b]=e},p=function(a,b,d){var e,f=a[b];if("object"==typeof f&&f)if("[object Array]"==w.call(f))for(e=f.length;e--;)q(f,e,d);else c(f,function(a){q(f,a,d)});return d.call(a,b,f)},y.parse=function(a,b){r=0,s=a;var c=o(n());return"$"!=n()&&m(),r=s=null,b&&"[object Function]"==w.call(b)?p((A={},A[""]=c,A),"",b):c}))}.call(this),/*!
 * Hij1nx requires the following notice to accompany EventEmitter:
 * 
 * Copyright (c) 2011 hij1nx 
 * 
 * http://www.twitter.com/hij1nx
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated 
 * documentation files (the 'Software'), to deal in the Software without restriction, including without limitation 
 * the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, 
 * and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO 
 * THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE 
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, 
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 */
!function(a){function b(){this._events=new Object}function c(a){a&&(a.delimiter&&(this.delimiter=a.delimiter),a.wildcard&&(this.wildcard=a.wildcard),this.wildcard&&(this.listenerTree=new Object))}function d(a){this._events=new Object,c.call(this,a)}function e(a,b,c,d){if(!c)return[];var f,g,h,i,j,k,l,m=[],n=b.length,o=b[d],p=b[d+1];if(d===n&&c._listeners){if("function"==typeof c._listeners)return a&&a.push(c._listeners),[c];for(f=0,g=c._listeners.length;g>f;f++)a&&a.push(c._listeners[f]);return[c]}if("*"===o||"**"===o||c[o]){if("*"===o){for(h in c)"_listeners"!==h&&c.hasOwnProperty(h)&&(m=m.concat(e(a,b,c[h],d+1)));return m}if("**"===o){l=d+1===n||d+2===n&&"*"===p,l&&c._listeners&&(m=m.concat(e(a,b,c,n)));for(h in c)"_listeners"!==h&&c.hasOwnProperty(h)&&("*"===h||"**"===h?(c[h]._listeners&&!l&&(m=m.concat(e(a,b,c[h],n))),m=m.concat(e(a,b,c[h],d))):m=h===p?m.concat(e(a,b,c[h],d+2)):m.concat(e(a,b,c[h],d)));return m}m=m.concat(e(a,b,c[o],d+1))}if(i=c["*"],i&&e(a,b,i,d+1),j=c["**"])if(n>d){j._listeners&&e(a,b,j,n);for(h in j)"_listeners"!==h&&j.hasOwnProperty(h)&&(h===p?e(a,b,j[h],d+2):h===o?e(a,b,j[h],d+1):(k={},k[h]=j[h],e(a,b,{"**":k},d+1)))}else j._listeners?e(a,b,j,n):j["*"]&&j["*"]._listeners&&e(a,b,j["*"],n);return m}function f(a,b){a="string"==typeof a?a.split(this.delimiter):a.slice();for(var c=0,d=a.length;d>c+1;c++)if("**"===a[c]&&"**"===a[c+1])return;for(var e=this.listenerTree,f=a.shift();f;){if(e[f]||(e[f]=new Object),e=e[f],0===a.length){if(e._listeners){if("function"==typeof e._listeners)e._listeners=[e._listeners,b];else if(g(e._listeners)&&(e._listeners.push(b),!e._listeners.warned)){var i=h;"undefined"!=typeof this._events.maxListeners&&(i=this._events.maxListeners),i>0&&e._listeners.length>i&&(e._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",e._listeners.length),console.trace())}}else e._listeners=b;return!0}f=a.shift()}return!0}var g=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},h=10;d.prototype.delimiter=".",d.prototype.setMaxListeners=function(a){this._events||b.call(this),this._events.maxListeners=a},d.prototype.event="",d.prototype.once=function(a,b){return this.many(a,1,b),this},d.prototype.many=function(a,b,c){function d(){0===--b&&e.off(a,d),c.apply(this,arguments)}var e=this;if("function"!=typeof c)throw new Error("many only accepts instances of Function");return d._origin=c,this.on(a,d),e},d.prototype.emit=function(){this._events||b.call(this);var a=arguments[0];if("newListener"===a&&!this._events.newListener)return!1;if(this._all){for(var c=arguments.length,d=new Array(c-1),f=1;c>f;f++)d[f-1]=arguments[f];for(f=0,c=this._all.length;c>f;f++)this.event=a,this._all[f].apply(this,d)}if("error"===a&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var g;if(this.wildcard){g=[];var h="string"==typeof a?a.split(this.delimiter):a.slice();e.call(this,g,h,this.listenerTree,0)}else g=this._events[a];if("function"==typeof g){if(this.event=a,1===arguments.length)g.call(this);else if(arguments.length>1)switch(arguments.length){case 2:g.call(this,arguments[1]);break;case 3:g.call(this,arguments[1],arguments[2]);break;default:for(var c=arguments.length,d=new Array(c-1),f=1;c>f;f++)d[f-1]=arguments[f];g.apply(this,d)}return!0}if(g){for(var c=arguments.length,d=new Array(c-1),f=1;c>f;f++)d[f-1]=arguments[f];for(var i=g.slice(),f=0,c=i.length;c>f;f++)this.event=a,i[f].apply(this,d);return i.length>0||this._all}return this._all},d.prototype.on=function(a,c){if("function"==typeof a)return this.onAny(a),this;if("function"!=typeof c)throw new Error("on only accepts instances of Function");if(this._events||b.call(this),this.emit("newListener",a,c),this.wildcard)return f.call(this,a,c),this;if(this._events[a]){if("function"==typeof this._events[a])this._events[a]=[this._events[a],c];else if(g(this._events[a])&&(this._events[a].push(c),!this._events[a].warned)){var d=h;"undefined"!=typeof this._events.maxListeners&&(d=this._events.maxListeners),d>0&&this._events[a].length>d&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}}else this._events[a]=c;return this},d.prototype.onAny=function(a){if(this._all||(this._all=[]),"function"!=typeof a)throw new Error("onAny only accepts instances of Function");return this._all.push(a),this},d.prototype.addListener=d.prototype.on,d.prototype.off=function(a,b){if("function"!=typeof b)throw new Error("removeListener only takes instances of Function");var c,d=[];if(this.wildcard){var f="string"==typeof a?a.split(this.delimiter):a.slice();d=e.call(this,null,f,this.listenerTree,0)}else{if(!this._events[a])return this;c=this._events[a],d.push({_listeners:c})}for(var h=0;h<d.length;h++){var i=d[h];if(c=i._listeners,g(c)){for(var j=-1,k=0,l=c.length;l>k;k++)if(c[k]===b||c[k].listener&&c[k].listener===b||c[k]._origin&&c[k]._origin===b){j=k;break}if(0>j)return this;this.wildcard?i._listeners.splice(j,1):this._events[a].splice(j,1),0===c.length&&(this.wildcard?delete i._listeners:delete this._events[a])}else(c===b||c.listener&&c.listener===b||c._origin&&c._origin===b)&&(this.wildcard?delete i._listeners:delete this._events[a])}return this},d.prototype.offAny=function(a){var b,c=0,d=0;if(a&&this._all&&this._all.length>0){for(b=this._all,c=0,d=b.length;d>c;c++)if(a===b[c])return b.splice(c,1),this}else this._all=[];return this},d.prototype.removeListener=d.prototype.off,d.prototype.removeAllListeners=function(a){if(0===arguments.length)return!this._events||b.call(this),this;if(this.wildcard)for(var c="string"==typeof a?a.split(this.delimiter):a.slice(),d=e.call(this,null,c,this.listenerTree,0),f=0;f<d.length;f++){var g=d[f];g._listeners=null}else{if(!this._events[a])return this;this._events[a]=null}return this},d.prototype.listeners=function(a){if(this.wildcard){var c=[],d="string"==typeof a?a.split(this.delimiter):a.slice();return e.call(this,c,d,this.listenerTree,0),c}return this._events||b.call(this),this._events[a]||(this._events[a]=[]),g(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]},d.prototype.listenersAny=function(){return this._all?this._all:[]},a.EventEmitter2=d}("undefined"!=typeof process&&"undefined"!=typeof process.title&&"undefined"!=typeof a?a:b);var Y=!1;try{throw new Error}catch(Z){Y=!!Z.stack}var _,ab,bb=m(),cb=function(){},db=function(){function a(){for(;c.next;){c=c.next;var b=c.task;c.task=void 0;var d=c.domain;d&&(c.domain=void 0,d.enter());try{b()}catch(f){if(g)throw d&&d.exit(),setTimeout(a,0),d&&d.enter(),f;setTimeout(function(){throw f},0)}d&&d.exit()}e=!1}var c={task:void 0,next:null},d=c,e=!1,f=void 0,g=!1;if(db=function(a){d=d.next={task:a,domain:g&&process.domain,next:null},e||(e=!0,f())},"undefined"!=typeof process&&process.nextTick)g=!0,f=function(){process.nextTick(a)};else if("function"==typeof setImmediate)f="undefined"!=typeof b?setImmediate.bind(b,a):function(){setImmediate(a)};else if("undefined"!=typeof MessageChannel){var h=new MessageChannel;h.port1.onmessage=function(){f=i,h.port1.onmessage=a,a()};var i=function(){h.port2.postMessage(0)};f=function(){setTimeout(a,0),i()}}else f=function(){setTimeout(a,0)};return db}(),eb=Function.call,fb=e(Array.prototype.slice),gb=e(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(1===arguments.length)for(;;){if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError}for(;d>c;c++)c in this&&(b=a(b,this[c],c));return b}),hb=e(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),ib=e(Array.prototype.map||function(a,b){var c=this,d=[];return gb(c,function(e,f,g){d.push(a.call(b,f,g,c))},void 0),d}),jb=Object.create||function(a){function b(){}return b.prototype=a,new b},kb=e(Object.prototype.hasOwnProperty),lb=Object.keys||function(a){var b=[];for(var c in a)kb(a,c)&&b.push(c);return b},mb=e(Object.prototype.toString);ab="undefined"!=typeof ReturnValue?ReturnValue:function(a){this.value=a};var nb;try{new Function("(function* (){ yield 1; })"),nb=!0}catch(Z){nb=!1}var ob="From previous event:";o.resolve=o,o.nextTick=db,o.longStackSupport=!1,o.defer=p,p.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):arguments.length>2?a.resolve(fb(arguments,1)):a.resolve(c)}},o.promise=q,o.passByCopy=function(a){return a},s.prototype.passByCopy=function(){return this},o.join=function(a,b){return o(a).join(b)},s.prototype.join=function(a){return o([this,a]).spread(function(a,b){if(a===b)return a;throw new Error("Can't join: not the same: "+a+" "+b)})},o.race=r,s.prototype.race=function(){return this.then(o.race)},o.makePromise=s,s.prototype.toString=function(){return"[object Promise]"},s.prototype.then=function(a,b,c){function d(b){try{return"function"==typeof a?a(b):b}catch(c){return F(c)}}function e(a){if("function"==typeof b){h(a,g);try{return b(a)}catch(c){return F(c)}}return F(a)}function f(a){return"function"==typeof c?c(a):a}var g=this,i=p(),j=!1;return db(function(){g.promiseDispatch(function(a){j||(j=!0,i.resolve(d(a)))},"when",[function(a){j||(j=!0,i.resolve(e(a)))}])}),g.promiseDispatch(void 0,"when",[void 0,function(a){var b,c=!1;try{b=f(a)}catch(d){if(c=!0,!o.onerror)throw d;o.onerror(d)}c||i.notify(b)}]),i.promise},o.when=t,s.prototype.thenResolve=function(a){return this.then(function(){return a})},o.thenResolve=function(a,b){return o(a).thenResolve(b)},s.prototype.thenReject=function(a){return this.then(function(){throw a})},o.thenReject=function(a,b){return o(a).thenReject(b)},o.nearer=u,o.isPromise=v,o.isPromiseAlike=w,o.isPending=x,s.prototype.isPending=function(){return"pending"===this.inspect().state},o.isFulfilled=y,s.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},o.isRejected=z,s.prototype.isRejected=function(){return"rejected"===this.inspect().state};var pb=[],qb=[],rb=!1,sb=!0;o.resetUnhandledRejections=C,o.getUnhandledReasons=function(){return pb.slice()},o.stopUnhandledRejectionTracking=function(){C(),"undefined"!=typeof process&&process.on&&process.removeListener("exit",B),sb=!1},C(),o.reject=F,o.fulfill=G,o.master=I,o.spread=J,s.prototype.spread=function(a,b){return this.all().then(function(b){return a.apply(void 0,b)},b)},o.async=K,o.spawn=L,o["return"]=M,o.promised=N,o.dispatch=O,s.prototype.dispatch=function(a,b){var c=this,d=p();return db(function(){c.promiseDispatch(d.resolve,a,b)}),d.promise},o.get=function(a,b){return o(a).dispatch("get",[b])},s.prototype.get=function(a){return this.dispatch("get",[a])},o.set=function(a,b,c){return o(a).dispatch("set",[b,c])},s.prototype.set=function(a,b){return this.dispatch("set",[a,b])},o.del=o["delete"]=function(a,b){return o(a).dispatch("delete",[b])},s.prototype.del=s.prototype["delete"]=function(a){return this.dispatch("delete",[a])},o.mapply=o.post=function(a,b,c){return o(a).dispatch("post",[b,c])},s.prototype.mapply=s.prototype.post=function(a,b){return this.dispatch("post",[a,b])},o.send=o.mcall=o.invoke=function(a,b){return o(a).dispatch("post",[b,fb(arguments,2)])},s.prototype.send=s.prototype.mcall=s.prototype.invoke=function(a){return this.dispatch("post",[a,fb(arguments,1)])},o.fapply=function(a,b){return o(a).dispatch("apply",[void 0,b])},s.prototype.fapply=function(a){return this.dispatch("apply",[void 0,a])},o["try"]=o.fcall=function(a){return o(a).dispatch("apply",[void 0,fb(arguments,1)])},s.prototype.fcall=function(){return this.dispatch("apply",[void 0,fb(arguments)])},o.fbind=function(a){var b=o(a),c=fb(arguments,1);return function(){return b.dispatch("apply",[this,c.concat(fb(arguments))])}},s.prototype.fbind=function(){var a=this,b=fb(arguments);return function(){return a.dispatch("apply",[this,b.concat(fb(arguments))])}},o.keys=function(a){return o(a).dispatch("keys",[])},s.prototype.keys=function(){return this.dispatch("keys",[])},o.all=P,s.prototype.all=function(){return P(this)},o.allResolved=n(Q,"allResolved","allSettled"),s.prototype.allResolved=function(){return Q(this)},o.allSettled=R,s.prototype.allSettled=function(){return this.then(function(a){return P(ib(a,function(a){function b(){return a.inspect()}return a=o(a),a.then(b,b)}))})},o.fail=o["catch"]=function(a,b){return o(a).then(void 0,b)},s.prototype.fail=s.prototype["catch"]=function(a){return this.then(void 0,a)},o.progress=S,s.prototype.progress=function(a){return this.then(void 0,void 0,a)},o.fin=o["finally"]=function(a,b){return o(a)["finally"](b)},s.prototype.fin=s.prototype["finally"]=function(a){return a=o(a),this.then(function(b){return a.fcall().then(function(){return b})},function(b){return a.fcall().then(function(){throw b})})},o.done=function(a,b,c,d){return o(a).done(b,c,d)},s.prototype.done=function(a,b,c){var d=function(a){db(function(){if(h(a,e),!o.onerror)throw a;o.onerror(a)})},e=a||b||c?this.then(a,b,c):this;"object"==typeof process&&process&&process.domain&&(d=process.domain.bind(d)),e.then(void 0,d)},o.timeout=function(a,b,c){return o(a).timeout(b,c)},s.prototype.timeout=function(a,b){var c=p(),d=setTimeout(function(){c.reject(new Error(b||"Timed out after "+a+" ms"))},a);return this.then(function(a){clearTimeout(d),c.resolve(a)},function(a){clearTimeout(d),c.reject(a)},c.notify),c.promise},o.delay=function(a,b){return void 0===b&&(b=a,a=void 0),o(a).delay(b)},s.prototype.delay=function(a){return this.then(function(b){var c=p();return setTimeout(function(){c.resolve(b)},a),c.promise})},o.nfapply=function(a,b){return o(a).nfapply(b)},s.prototype.nfapply=function(a){var b=p(),c=fb(a);return c.push(b.makeNodeResolver()),this.fapply(c).fail(b.reject),b.promise},o.nfcall=function(a){var b=fb(arguments,1);return o(a).nfapply(b)},s.prototype.nfcall=function(){var a=fb(arguments),b=p();return a.push(b.makeNodeResolver()),this.fapply(a).fail(b.reject),b.promise},o.nfbind=o.denodeify=function(a){var b=fb(arguments,1);return function(){var c=b.concat(fb(arguments)),d=p();return c.push(d.makeNodeResolver()),o(a).fapply(c).fail(d.reject),d.promise}},s.prototype.nfbind=s.prototype.denodeify=function(){var a=fb(arguments);return a.unshift(this),o.denodeify.apply(void 0,a)},o.nbind=function(a,b){var c=fb(arguments,2);return function(){function d(){return a.apply(b,arguments)}var e=c.concat(fb(arguments)),f=p();return e.push(f.makeNodeResolver()),o(d).fapply(e).fail(f.reject),f.promise}},s.prototype.nbind=function(){var a=fb(arguments,0);return a.unshift(this),o.nbind.apply(void 0,a)},o.nmapply=o.npost=function(a,b,c){return o(a).npost(b,c)},s.prototype.nmapply=s.prototype.npost=function(a,b){var c=fb(b||[]),d=p();return c.push(d.makeNodeResolver()),this.dispatch("post",[a,c]).fail(d.reject),d.promise},o.nsend=o.nmcall=o.ninvoke=function(a,b){var c=fb(arguments,2),d=p();return c.push(d.makeNodeResolver()),o(a).dispatch("post",[b,c]).fail(d.reject),d.promise},s.prototype.nsend=s.prototype.nmcall=s.prototype.ninvoke=function(a){var b=fb(arguments,1),c=p();return b.push(c.makeNodeResolver()),this.dispatch("post",[a,b]).fail(c.reject),c.promise},o.nodeify=T,s.prototype.nodeify=function(a){return a?(this.then(function(b){db(function(){a(null,b)})},function(b){db(function(){a(b)})}),void 0):this},d.exports=o;var tb=m();o=a.Q=d.exports,function(a){"use strict";function b(a,c){if(a===c)return!0;if("object"==typeof a&&"object"==typeof c){if(Array.isArray(a)!==Array.isArray(c))return!1;if(Array.isArray(a)){if(a.length!==c.length)return!1;for(var d=0;d<a.length;d++)if(!b(a[d],c[d]))return!1}else{var e;for(e in a)if(void 0===c[e]&&void 0!==a[e])return!1;for(e in c)if(void 0===a[e]&&void 0!==c[e])return!1;for(e in a)if(!b(a[e],c[e]))return!1}return!0}return!1}function c(a){var b=String(a).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return b?{href:b[0]||"",protocol:b[1]||"",authority:b[2]||"",host:b[3]||"",hostname:b[4]||"",port:b[5]||"",pathname:b[6]||"",search:b[7]||"",hash:b[8]||""}:null}function e(a,b){function d(a){var b=[];return a.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(a){"/.."===a?b.pop():b.push(a)}),b.join("").replace(/^\//,"/"===a.charAt(0)?"/":"")}return b=c(b||""),a=c(a||""),b&&a?(b.protocol||a.protocol)+(b.protocol||b.authority?b.authority:a.authority)+d(b.protocol||b.authority||"/"===b.pathname.charAt(0)?b.pathname:b.pathname?(a.authority&&!a.pathname?"/":"")+a.pathname.slice(0,a.pathname.lastIndexOf("/")+1)+b.pathname:a.pathname)+(b.protocol||b.authority||b.pathname?b.search:b.search||a.search)+b.hash:null}function f(a){return a.split("#")[0]}function g(a,b){if(void 0===b?b=a.id:"string"==typeof a.id&&(b=e(b,a.id),a.id=b),"object"==typeof a)if(Array.isArray(a))for(var c=0;c<a.length;c++)g(a[c],b);else if("string"==typeof a.$ref)a.$ref=e(b,a.$ref);else for(var d in a)"enum"!==d&&g(a[d],b)}function h(a,b,c,d,e){if(void 0===a)throw new Error("No code supplied for error: "+b);this.code=a,this.message=b,this.dataPath=c||"",this.schemaPath=d||"",this.subErrors=e||null}function i(a,b){if(b.substring(0,a.length)===a){var c=b.substring(a.length);if(b.length>0&&"/"===b.charAt(a.length-1)||"#"===c.charAt(0)||"?"===c.charAt(0))return!0}return!1}function j(a){var b=new k,c=a||"en",d={addFormat:function(){b.addFormat.apply(b,arguments)},language:function(a){return a?(n[a]||(a=a.split("-")[0]),n[a]?(c=a,a):!1):c},addLanguage:function(a,b){var c;for(c in l)b[c]&&!b[l[c]]&&(b[l[c]]=b[c]);var d=a.split("-")[0];if(n[d]){n[a]=Object.create(n[d]);for(c in b)"undefined"==typeof n[d][c]&&(n[d][c]=b[c]),n[a][c]=b[c]}else n[a]=b,n[d]=b;return this},freshApi:function(a){var b=j();return a&&b.language(a),b},validate:function(a,d,e,f){var g=new k(b,!1,n[c],e,f);"string"==typeof d&&(d={$ref:d}),g.addSchema("",d);var h=g.validateAll(a,d,null,null,"");return!h&&f&&(h=g.banUnknownProperties()),this.error=h,this.missing=g.missing,this.valid=null===h,this.valid},validateResult:function(){var a={};return this.validate.apply(a,arguments),a},validateMultiple:function(a,d,e,f){var g=new k(b,!0,n[c],e,f);"string"==typeof d&&(d={$ref:d}),g.addSchema("",d),g.validateAll(a,d,null,null,""),f&&g.banUnknownProperties();var h={};return h.errors=g.errors,h.missing=g.missing,h.valid=0===h.errors.length,h},addSchema:function(){return b.addSchema.apply(b,arguments)},getSchema:function(){return b.getSchema.apply(b,arguments)},getSchemaMap:function(){return b.getSchemaMap.apply(b,arguments)},getSchemaUris:function(){return b.getSchemaUris.apply(b,arguments)},getMissingUris:function(){return b.getMissingUris.apply(b,arguments)},dropSchemas:function(){b.dropSchemas.apply(b,arguments)},reset:function(){b.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:g,resolveUrl:e,getDocumentUri:f,errorCodes:l};return d}Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Object.create||(Object.create=function(){function a(){}return function(b){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return a.prototype=b,new a}}()),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&1/0!==d&&d!==-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),Object.isFrozen||(Object.isFrozen=function(a){for(var b="tv4_test_frozen_key";a.hasOwnProperty(b);)b+=Math.random();try{return a[b]=!0,delete a[b],!1}catch(c){return!0}});var k=function(a,b,c,d,e){this.missing=[],this.missingMap={},this.formatValidators=a?Object.create(a.formatValidators):{},this.schemas=a?Object.create(a.schemas):{},this.collectMultiple=b,this.errors=[],this.handleError=b?this.collectError:this.returnError,d&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.key="tv4_validation_id"),e&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=c};k.prototype.createError=function(a,b,c,d,e){var f=this.errorMessages[a]||m[a];if("string"!=typeof f)return new h(a,"Unknown error code "+a+": "+JSON.stringify(b),c,d,e);var g=f.replace(/\{([^{}]*)\}/g,function(a,c){var d=b[c];return"string"==typeof d||"number"==typeof d?d:a});return new h(a,g,c,d,e)},k.prototype.returnError=function(a){return a},k.prototype.collectError=function(a){return a&&this.errors.push(a),null},k.prototype.prefixErrors=function(a,b,c){for(var d=a;d<this.errors.length;d++)this.errors[d]=this.errors[d].prefixWith(b,c);return this},k.prototype.banUnknownProperties=function(){for(var a in this.unknownPropertyPaths){var b=this.createError(l.UNKNOWN_PROPERTY,{path:a},a,""),c=this.handleError(b);if(c)return c}return null},k.prototype.addFormat=function(a,b){if("object"==typeof a){for(var c in a)this.addFormat(c,a[c]);return this}this.formatValidators[a]=b},k.prototype.getSchema=function(a){var b;if(void 0!==this.schemas[a])return b=this.schemas[a];var c=a,d="";if(-1!==a.indexOf("#")&&(d=a.substring(a.indexOf("#")+1),c=a.substring(0,a.indexOf("#"))),"object"==typeof this.schemas[c]){b=this.schemas[c];var e=decodeURIComponent(d);if(""===e)return b;if("/"!==e.charAt(0))return void 0;for(var f=e.split("/").slice(1),g=0;g<f.length;g++){var h=f[g].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===b[h]){b=void 0;break}b=b[h]}if(void 0!==b)return b}void 0===this.missing[c]&&(this.missing.push(c),this.missing[c]=c,this.missingMap[c]=c)},k.prototype.searchSchemas=function(a,b){if("string"==typeof a.id&&i(b,a.id)&&void 0===this.schemas[a.id]&&(this.schemas[a.id]=a),"object"==typeof a)for(var c in a)if("enum"!==c)if("object"==typeof a[c])this.searchSchemas(a[c],b);else if("$ref"===c){var d=f(a[c]);d&&void 0===this.schemas[d]&&void 0===this.missingMap[d]&&(this.missingMap[d]=d)}},k.prototype.addSchema=function(a,b){if("undefined"==typeof b){if("object"!=typeof a||"string"!=typeof a.id)return;b=a,a=b.id}(a=f(a)+"#")&&(a=f(a)),this.schemas[a]=b,delete this.missingMap[a],g(b,a),this.searchSchemas(b,a)},k.prototype.getSchemaMap=function(){var a={};for(var b in this.schemas)a[b]=this.schemas[b];return a},k.prototype.getSchemaUris=function(a){var b=[];for(var c in this.schemas)(!a||a.test(c))&&b.push(c);return b},k.prototype.getMissingUris=function(a){var b=[];for(var c in this.missingMap)(!a||a.test(c))&&b.push(c);return b},k.prototype.dropSchemas=function(){this.schemas={},this.reset()},k.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},k.prototype.validateAll=function(a,b,c,d,e){var f;if(void 0!==b.$ref&&(b=this.getSchema(b.$ref),!b))return null;if(this.checkRecursive&&"object"==typeof a){if(f=!this.scanned.length,a[this.key]&&-1!==a[this.key].indexOf(b))return null;var g;if(Object.isFrozen(a)&&(g=this.scannedFrozen.indexOf(a),-1!==g&&-1!==this.scannedFrozenSchemas[g].indexOf(b)))return null;if(this.scanned.push(a),Object.isFrozen(a))-1===g&&(g=this.scannedFrozen.length,this.scannedFrozen.push(a),this.scannedFrozenSchemas.push([])),this.scannedFrozenSchemas[g].push(b);else{if(!a[this.key])try{Object.defineProperty(a,this.key,{value:[],configurable:!0})}catch(h){a[this.key]=[]}a[this.key].push(b)}}var i=this.errors.length,j=this.validateBasic(a,b,e)||this.validateNumeric(a,b,e)||this.validateString(a,b,e)||this.validateArray(a,b,e)||this.validateObject(a,b,e)||this.validateCombinations(a,b,e)||this.validateFormat(a,b,e)||null;if(f){for(;this.scanned.length;){var k=this.scanned.pop();delete k[this.key]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(j||i!==this.errors.length)for(;c&&c.length||d&&d.length;){var l=c&&c.length?""+c.pop():null,m=d&&d.length?""+d.pop():null;j&&(j=j.prefixWith(l,m)),this.prefixErrors(i,l,m)}return this.handleError(j)},k.prototype.validateFormat=function(a,b){if("string"!=typeof b.format||!this.formatValidators[b.format])return null;var c=this.formatValidators[b.format].call(null,a,b);return"string"==typeof c||"number"==typeof c?this.createError(l.FORMAT_CUSTOM,{message:c}).prefixWith(null,"format"):c&&"object"==typeof c?this.createError(l.FORMAT_CUSTOM,{message:c.message||"?"},c.dataPath||null,c.schemaPath||"/format"):null},k.prototype.validateBasic=function(a,b,c){var d;return(d=this.validateType(a,b,c))?d.prefixWith(null,"type"):(d=this.validateEnum(a,b,c))?d.prefixWith(null,"type"):null},k.prototype.validateType=function(a,b){if(void 0===b.type)return null;var c=typeof a;null===a?c="null":Array.isArray(a)&&(c="array");var d=b.type;"object"!=typeof d&&(d=[d]);for(var e=0;e<d.length;e++){var f=d[e];if(f===c||"integer"===f&&"number"===c&&0===a%1)return null}return this.createError(l.INVALID_TYPE,{type:c,expected:d.join("/")})},k.prototype.validateEnum=function(a,c){if(void 0===c["enum"])return null;for(var d=0;d<c["enum"].length;d++){var e=c["enum"][d];if(b(a,e))return null}return this.createError(l.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(a):a})},k.prototype.validateNumeric=function(a,b,c){return this.validateMultipleOf(a,b,c)||this.validateMinMax(a,b,c)||null},k.prototype.validateMultipleOf=function(a,b){var c=b.multipleOf||b.divisibleBy;return void 0===c?null:"number"==typeof a&&0!==a%c?this.createError(l.NUMBER_MULTIPLE_OF,{value:a,multipleOf:c}):null},k.prototype.validateMinMax=function(a,b){if("number"!=typeof a)return null;if(void 0!==b.minimum){if(a<b.minimum)return this.createError(l.NUMBER_MINIMUM,{value:a,minimum:b.minimum}).prefixWith(null,"minimum");if(b.exclusiveMinimum&&a===b.minimum)return this.createError(l.NUMBER_MINIMUM_EXCLUSIVE,{value:a,minimum:b.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==b.maximum){if(a>b.maximum)return this.createError(l.NUMBER_MAXIMUM,{value:a,maximum:b.maximum}).prefixWith(null,"maximum");if(b.exclusiveMaximum&&a===b.maximum)return this.createError(l.NUMBER_MAXIMUM_EXCLUSIVE,{value:a,maximum:b.maximum}).prefixWith(null,"exclusiveMaximum")}return null},k.prototype.validateString=function(a,b,c){return this.validateStringLength(a,b,c)||this.validateStringPattern(a,b,c)||null},k.prototype.validateStringLength=function(a,b){return"string"!=typeof a?null:void 0!==b.minLength&&a.length<b.minLength?this.createError(l.STRING_LENGTH_SHORT,{length:a.length,minimum:b.minLength}).prefixWith(null,"minLength"):void 0!==b.maxLength&&a.length>b.maxLength?this.createError(l.STRING_LENGTH_LONG,{length:a.length,maximum:b.maxLength}).prefixWith(null,"maxLength"):null},k.prototype.validateStringPattern=function(a,b){if("string"!=typeof a||void 0===b.pattern)return null;var c=new RegExp(b.pattern);return c.test(a)?null:this.createError(l.STRING_PATTERN,{pattern:b.pattern}).prefixWith(null,"pattern")},k.prototype.validateArray=function(a,b,c){return Array.isArray(a)?this.validateArrayLength(a,b,c)||this.validateArrayUniqueItems(a,b,c)||this.validateArrayItems(a,b,c)||null:null},k.prototype.validateArrayLength=function(a,b){var c;return void 0!==b.minItems&&a.length<b.minItems&&(c=this.createError(l.ARRAY_LENGTH_SHORT,{length:a.length,minimum:b.minItems}).prefixWith(null,"minItems"),this.handleError(c))?c:void 0!==b.maxItems&&a.length>b.maxItems&&(c=this.createError(l.ARRAY_LENGTH_LONG,{length:a.length,maximum:b.maxItems}).prefixWith(null,"maxItems"),this.handleError(c))?c:null},k.prototype.validateArrayUniqueItems=function(a,c){if(c.uniqueItems)for(var d=0;d<a.length;d++)for(var e=d+1;e<a.length;e++)if(b(a[d],a[e])){var f=this.createError(l.ARRAY_UNIQUE,{match1:d,match2:e}).prefixWith(null,"uniqueItems");if(this.handleError(f))return f}return null},k.prototype.validateArrayItems=function(a,b,c){if(void 0===b.items)return null;var d,e;if(Array.isArray(b.items)){for(e=0;e<a.length;e++)if(e<b.items.length){if(d=this.validateAll(a[e],b.items[e],[e],["items",e],c+"/"+e))return d}else if(void 0!==b.additionalItems)if("boolean"==typeof b.additionalItems){if(!b.additionalItems&&(d=this.createError(l.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+e,"additionalItems"),this.handleError(d)))return d}else if(d=this.validateAll(a[e],b.additionalItems,[e],["additionalItems"],c+"/"+e))return d}else for(e=0;e<a.length;e++)if(d=this.validateAll(a[e],b.items,[e],["items"],c+"/"+e))return d;return null},k.prototype.validateObject=function(a,b,c){return"object"!=typeof a||null===a||Array.isArray(a)?null:this.validateObjectMinMaxProperties(a,b,c)||this.validateObjectRequiredProperties(a,b,c)||this.validateObjectProperties(a,b,c)||this.validateObjectDependencies(a,b,c)||null},k.prototype.validateObjectMinMaxProperties=function(a,b){var c,d=Object.keys(a);return void 0!==b.minProperties&&d.length<b.minProperties&&(c=this.createError(l.OBJECT_PROPERTIES_MINIMUM,{propertyCount:d.length,minimum:b.minProperties}).prefixWith(null,"minProperties"),this.handleError(c))?c:void 0!==b.maxProperties&&d.length>b.maxProperties&&(c=this.createError(l.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:d.length,maximum:b.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(c))?c:null},k.prototype.validateObjectRequiredProperties=function(a,b){if(void 0!==b.required)for(var c=0;c<b.required.length;c++){var d=b.required[c];if(void 0===a[d]){var e=this.createError(l.OBJECT_REQUIRED,{key:d}).prefixWith(null,""+c).prefixWith(null,"required");if(this.handleError(e))return e}}return null},k.prototype.validateObjectProperties=function(a,b,c){var d;for(var e in a){var f=c+"/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),g=!1;if(void 0!==b.properties&&void 0!==b.properties[e]&&(g=!0,d=this.validateAll(a[e],b.properties[e],[e],["properties",e],f)))return d;if(void 0!==b.patternProperties)for(var h in b.patternProperties){var i=new RegExp(h);if(i.test(e)&&(g=!0,d=this.validateAll(a[e],b.patternProperties[h],[e],["patternProperties",h],f)))return d}if(g)this.trackUnknownProperties&&(this.knownPropertyPaths[f]=!0,delete this.unknownPropertyPaths[f]);else if(void 0!==b.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[f]=!0,delete this.unknownPropertyPaths[f]),"boolean"==typeof b.additionalProperties){if(!b.additionalProperties&&(d=this.createError(l.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(e,"additionalProperties"),this.handleError(d)))return d}else if(d=this.validateAll(a[e],b.additionalProperties,[e],["additionalProperties"],f))return d}else this.trackUnknownProperties&&!this.knownPropertyPaths[f]&&(this.unknownPropertyPaths[f]=!0)}return null},k.prototype.validateObjectDependencies=function(a,b,c){var d;if(void 0!==b.dependencies)for(var e in b.dependencies)if(void 0!==a[e]){var f=b.dependencies[e];if("string"==typeof f){if(void 0===a[f]&&(d=this.createError(l.OBJECT_DEPENDENCY_KEY,{key:e,missing:f}).prefixWith(null,e).prefixWith(null,"dependencies"),this.handleError(d)))return d}else if(Array.isArray(f))for(var g=0;g<f.length;g++){var h=f[g];if(void 0===a[h]&&(d=this.createError(l.OBJECT_DEPENDENCY_KEY,{key:e,missing:h}).prefixWith(null,""+g).prefixWith(null,e).prefixWith(null,"dependencies"),this.handleError(d)))return d}else if(d=this.validateAll(a,f,[],["dependencies",e],c))return d}return null},k.prototype.validateCombinations=function(a,b,c){return this.validateAllOf(a,b,c)||this.validateAnyOf(a,b,c)||this.validateOneOf(a,b,c)||this.validateNot(a,b,c)||null
},k.prototype.validateAllOf=function(a,b,c){if(void 0===b.allOf)return null;for(var d,e=0;e<b.allOf.length;e++){var f=b.allOf[e];if(d=this.validateAll(a,f,[],["allOf",e],c))return d}return null},k.prototype.validateAnyOf=function(a,b,c){if(void 0===b.anyOf)return null;var d,e,f=[],g=this.errors.length;this.trackUnknownProperties&&(d=this.unknownPropertyPaths,e=this.knownPropertyPaths);for(var h=!0,i=0;i<b.anyOf.length;i++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var j=b.anyOf[i],k=this.errors.length,m=this.validateAll(a,j,[],["anyOf",i],c);if(null===m&&k===this.errors.length){if(this.errors=this.errors.slice(0,g),this.trackUnknownProperties){for(var n in this.knownPropertyPaths)e[n]=!0,delete d[n];for(var o in this.unknownPropertyPaths)e[o]||(d[o]=!0);console.log("Continuing"),h=!1;continue}return null}m&&f.push(m.prefixWith(null,""+i).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=d,this.knownPropertyPaths=e),h?(f=f.concat(this.errors.slice(g)),this.errors=this.errors.slice(0,g),this.createError(l.ANY_OF_MISSING,{},"","/anyOf",f)):void 0},k.prototype.validateOneOf=function(a,b,c){if(void 0===b.oneOf)return null;var d,e,f=null,g=[],h=this.errors.length;this.trackUnknownProperties&&(d=this.unknownPropertyPaths,e=this.knownPropertyPaths);for(var i=0;i<b.oneOf.length;i++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var j=b.oneOf[i],k=this.errors.length,m=this.validateAll(a,j,[],["oneOf",i],c);if(null===m&&k===this.errors.length){if(null!==f)return this.errors=this.errors.slice(0,h),this.createError(l.ONE_OF_MULTIPLE,{index1:f,index2:i},"","/oneOf");if(f=i,this.trackUnknownProperties){for(var n in this.knownPropertyPaths)e[n]=!0,delete d[n];for(var o in this.unknownPropertyPaths)e[o]||(d[o]=!0)}}else m&&g.push(m.prefixWith(null,""+i).prefixWith(null,"oneOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=d,this.knownPropertyPaths=e),null===f?(g=g.concat(this.errors.slice(h)),this.errors=this.errors.slice(0,h),this.createError(l.ONE_OF_MISSING,{},"","/oneOf",g)):(this.errors=this.errors.slice(0,h),null)},k.prototype.validateNot=function(a,b,c){if(void 0===b.not)return null;var d,e,f=this.errors.length;this.trackUnknownProperties&&(d=this.unknownPropertyPaths,e=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var g=this.validateAll(a,b.not,null,null,c),h=this.errors.slice(f);return this.errors=this.errors.slice(0,f),this.trackUnknownProperties&&(this.unknownPropertyPaths=d,this.knownPropertyPaths=e),null===g&&0===h.length?this.createError(l.NOT_PASSED,{},"","/not"):null};var l={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,UNKNOWN_PROPERTY:1e3},m={INVALID_TYPE:"invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};h.prototype=new Error,h.prototype.prefixWith=function(a,b){if(null!==a&&(a=a.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+a+this.dataPath),null!==b&&(b=b.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+b+this.schemaPath),null!==this.subErrors)for(var c=0;c<this.subErrors.length;c++)this.subErrors[c].prefixWith(a,b);return this};var n={},o=j();o.addLanguage("en-gb",m),o.tv4=o,"undefined"!=typeof d&&d.exports?d.exports=o:a.tv4=o}(this),tv4=a.tv4=d.exports}.call(exports,exports,exports,window,module={}),define("F2.Ajax",["F2.Defer"],function(){return{get:function(){},post:function(){}}}),define("F2.Classes",[],function(){return{App:function(){return{init:function(){}}},AppConfig:{appId:"",context:{},enableBatchRequests:!1,height:0,instanceId:"",manifestUrl:"",maxWidth:0,minGridSize:4,minWidth:300,name:"",root:void 0,views:[]},AppManifest:{apps:[],inlineScripts:[],scripts:[],styles:[]},AppContent:{data:{},html:"",status:""},ContainerConfig:{debugMode:!1,loadScripts:function(){},loadStyles:function(){},scriptErrorTimeout:7e3,supportedViews:[],xhr:{dataType:function(){},type:function(){},url:function(){}}}}}),define("F2.Defer",[],function(){return Q}),define("F2.Events",[],function(){var a=new exports.EventEmitter2({wildcard:!0});return a.setMaxListeners(0),{_socketEmit:function(){return exports.EventEmitter2.prototype.emit.apply(a,[].slice.call(arguments))},emit:function(){return F2.Rpc.broadcast(F2.Constants.Sockets.EVENT,[].slice.call(arguments)),exports.EventEmitter2.prototype.emit.apply(a,[].slice.call(arguments))},many:function(b,c,d){return a.many(b,c,d)},off:function(b,c){return a.off(b,c)},on:function(b,c){return a.on(b,c)},once:function(b,c){return a.once(b,c)}}}),define("F2.Interfaces",[],function(){function a(a){switch(a){case"array":return[];case"boolean":return!1;case"integer":case"number":return 0;case"object":return{};case"string":return""}return null}function b(c){var d;if(c.properties){d={};for(var e in c.properties){var f,g=c.properties[e];f="undefined"!=typeof g["default"]?g["default"]:g.properties?b(g):a(g.type),d[e]=f}}else d=a(c.type);return d}var c={AppManifest:{title:"App Manifest",type:"object",properties:{scripts:{type:"array"},styles:{type:"array"},inlineScripts:{type:"array"},apps:{type:"array",items:{type:"object",properties:{success:{type:"boolean"},data:{type:"object"},html:{type:"string"}},required:["success"]}}},required:["scripts","styles","inlineScripts","apps"]},ContainerConfig:{title:"Container Config",type:"object",properties:{debugMode:{type:"boolean"},loadScripts:{type:"object"},loadStyles:{type:"object"},scriptErrorTimeout:{type:"integer",minimum:0,"default":7e3},supportedViews:{type:"array"},xhr:{type:"object",properties:{dataType:{type:"object"},type:{type:"object"},url:{type:"object"}}}}}};return{validate:function(a,b){if(!b)throw"F2.Interfaces: you must provide a schema or schema name.";return c[b]&&(b=c[b]),tv4.validate(a,b)},add:function(a,b){if(!a)throw"F2.Interfaces: you must provide a schema name.";if(!b)throw"F2.Interfaces: you must provide a schema.";if(b[a])throw"F2.Interfaces: "+a+" is already a registered schema.";c[a]=b},create:function(a){if(!a)throw"F2.Interfaces: you must provide a schema or schema name.";return c[a]&&(a=c[a]),b(a)},schemas:c}}),define("F2",["F2.Defer","F2.Classes","F2.Interfaces"],function(Defer,Classes,Interfaces){function _loadHtml(a,b){for(var c=document.createElement("div"),d={},e=0,f=a.length;f>e;e++)a[e].appId&&(c.innerHTML=a[e].html,d[a[e].appId]={instanceId:F2.guid(),root:c.firstChild});return b.resolve(d),d}function _initApps(a,b){for(var c=[],d=0,e=a.length;e>d;d++)a[d].appId&&(c.push(a[d].appId),F2.Apps[a[d].appId]&&!_appsWrappedInDefine[a[d].appId]&&(define(a[d].appId,[],F2.Apps[a[d].appId]),_appsWrappedInDefine[a[d].appId]=!0),b[a[d].appId].context=a[d].context||{});require(c,function(){for(var a=Array.prototype.slice(arguments,c.length),d=0,e=c.length;e>d;d++){var f=b[c[d]],g=new a[d](f.instanceId,f.context,f.root);g.init()}})}function _loadScripts(paths,inlines,callback){var hasPaths=paths&&paths instanceof Array&&paths.length,hasInlines=inlines&&inlines instanceof Array&&inlines.length;hasPaths||hasInlines?_config.loadScripts instanceof Function?_config.loadScripts(paths,inlines,callback):require(paths,function(){if(hasInlines)for(var i=0,len=inlines.length;len>i;i++)try{eval(inlines[i])}catch(exception){F2.log("Error loading inline script: "+exception+"\n\n"+inlines[i])}callback()}):callback()}function _loadStyles(a){if(a&&a instanceof Array&&a.length)if(_config.loadStyles instanceof Function)_config.loadStyles(a);else{for(var b=document.createDocumentFragment(),c=document.getElementsByTagName("link"),d={},e=0,f=c.length;f>e;e++)d[c[e].href]=!0;for(var g=0,h=a.length;h>g;g++)if(!d[a[g]]){var i=document.createElement("link");i.href=a[g],b.appendChild(i)}document.getElementsByName("head")[0].appendChild(b)}}function _loadApps(a,b){_loadStyles(a.styles);var c=_loadHtml(a.apps,b);_loadScripts(a.scripts,a.inlineScripts,function(){_initApps(a.apps,c)})}function _hydrateContainerConfig(a){a.scriptErrorTimeout||(a.scriptErrorTimeout=F2.ContainerConfig.scriptErrorTimeout),a.debugMode!==!0&&(a.debugMode=F2.ContainerConfig.debugMode)}var _config=$.extend({},Classes.ContainerConfig),_appsWrappedInDefine={},F2={};return F2.Apps={},F2.config=function(a){Interfaces.validate(a,"ContainerConfig")&&(_hydrateContainerConfig(a),$.extend(!0,_config,a))},F2.guid=function(){"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=0|16*Math.random(),c="x"==a?b:8|3&b;return c.toString(16)})},F2.load=function(a){a instanceof Array==!1&&(a=[a]);for(var b=Defer.deferred(),c={},d=0,e=0,f=a.length;f>e;e++)c[a[e].manifestUrl]||(c[a[e].manifestUrl]=[],d+=1),c[a[e].manifestUrl].push(a[e]);var g=[{scripts:[],styles:[],inlineScripts:[],apps:[]}];for(var h in c)$.ajax({url:h,type:"post",data:{params:JSON.stringify(c[h])},cache:!1,success:function(a){if(Interfaces.validate(a,"AppManifest")&&g.push(a),0===--d&&g.length>1){var c=$.extend.apply($,[!0].concat(g));_loadApps(c,b)}}});return b.promise},F2})}();
//# sourceMappingURL=f2.min.map