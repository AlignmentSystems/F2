<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
		<title></title>
</head>
<body>
	<script src="../sdk/f2.debug.js"></script>

	<script>
		require(["F2.Interfaces"], function(Interfaces) {

			// --------------------
			// Test Predefined
			// --------------------

			console.log("========== Test Predefined ==========");

			var manifest = {
				scripts: [],
				styles: [],
				inlineScripts: [],
				apps: [{ html: "", data: {}, success: true }]
			};

			console.log("AppManifest ==", Interfaces.validate(manifest, "appManifest"));

			// --------------------
			// Test User Defined
			// --------------------

			console.log("========== Test User Defined ==========");

			// Add a Quote interface
			Interfaces.add("quote", {
				type: "object",
				properties: {
					price: {
						type: "number",
						minimum: 0
					}
				},
				required: ["price"]
			});
			console.log("Quote ==", Interfaces.validate({ price: 1 }, "quote"));

			// --------------------
			// Test Nested Definitions
			// --------------------

			console.log("========== Test Nested Definitions ==========");

			// Add a Quote interface
			Interfaces.add("complex", {
				type: "object",
				properties: {
					manifest: {
						$ref: 'appManifest'
					},
					quote: {
						$ref: 'quote'
					}
				}
			});

			var complexObj = {
				manifest: {
					scripts: [],
					styles: [],
					inlineScripts: [],
					apps: [{ html: "", data: {}, success: true }]
				},
				quote: {
					price: 1
				}
			};
			console.log("Complex ==", Interfaces.validate(complexObj, "complex"));

			console.log(Interfaces.getSchemas());
		});

		// --------------------
		// Test Nested Definitions
		// --------------------

		// Test the ajax
		require(["F2.Ajax"], function(Ajax) {

			// Test GET
			Ajax.get("test.js").then(function(response) {
				console.log("========== Test Ajax: GET ==========");
				console.log("INDEX", response);
			});

			// Test POST
			Ajax.post("test.js").then(function(response) {
				console.log("========== Test Ajax: POST ==========");
				console.log("INDEX", response);
			});

			// Test JSONP
			Ajax.jsonp("http://dev.markitondemand.com/Api/Lookup/jsonp", { input: "gm" }).then(function(response) {
				console.log("========== Test Ajax: JSONP ==========");
				console.log("INDEX", response);
			});

		});

		require(["F2.Events"], function(Events) {
			window.e = Events;
		});

	</script>
</body>
</html>
